<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >

<!-- 当Mapper接口和XML文件关联的时候， namespace的值就需要配置成接口的全限定名称 -->
<mapper namespace="tiens.cdp.dao.UserMapper">

    <resultMap id="UserResultMap" type="tiens.cdp.model.CdpUser" >
        <result column="USERNAME" property="username" jdbcType="VARCHAR" />
        <result column="CNNAME" property="cName" jdbcType="VARCHAR" />
        <result column="PASSWORD" property="password" jdbcType="VARCHAR" />
        <result column="LASTLOGINDATE" property="lastLoginDate" jdbcType="DATE" />
    </resultMap>

    <select id="findByUsername" resultMap="UserResultMap" parameterType="java.lang.String"> <!--   resultType可以不用写全，与application.yml中的type-aliases-package属性组合使用 -->
        SELECT USERNAME, CNNAME, PASSWORD, LASTLOGINDATE
        FROM TB_USER L
        WHERE L.USERNAME = #{userName,jdbcType=VARCHAR}
    </select>
</mapper>